{"abi":[],"bytecode":{"object":"0x6055604b600b8282823980515f1a607314603f577f4e487b71000000000000000000000000000000000000000000000000000000005f525f60045260245ffd5b305f52607381538281f3fe730000000000000000000000000000000000000000301460806040525f5ffdfea264697066735822122096f56ded7e37ed6a5b8cf7b5dcc885ac9c7175727fcc819a563172714fa6c34464736f6c634300081c0033","sourceMap":"1599:3723:38:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x730000000000000000000000000000000000000000301460806040525f5ffdfea264697066735822122096f56ded7e37ed6a5b8cf7b5dcc885ac9c7175727fcc819a563172714fa6c34464736f6c634300081c0033","sourceMap":"1599:3723:38:-:0;;;;;;;;","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.28+commit.7893614a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[],\"devdoc\":{\"details\":\"Library for computing storage (and transient storage) locations from namespaces and deriving slots corresponding to standard patterns. The derivation method for array and mapping matches the storage layout used by the solidity language / compiler. See https://docs.soliditylang.org/en/v0.8.20/internals/layout_in_storage.html#mappings-and-dynamic-arrays[Solidity docs for mappings and dynamic arrays.]. Example usage: ```solidity contract Example {     // Add the library methods     using StorageSlot for bytes32;     using SlotDerivation for bytes32;     // Declare a namespace     string private constant _NAMESPACE = \\\"<namespace>\\\"; // eg. OpenZeppelin.Slot     function setValueInNamespace(uint256 key, address newValue) internal {         _NAMESPACE.erc7201Slot().deriveMapping(key).getAddressSlot().value = newValue;     }     function getValueInNamespace(uint256 key) internal view returns (address) {         return _NAMESPACE.erc7201Slot().deriveMapping(key).getAddressSlot().value;     } } ``` TIP: Consider using this library along with {StorageSlot}. NOTE: This library provides a way to manipulate storage locations in a non-standard way. Tooling for checking upgrade safety will ignore the slots accessed through this library. _Available since v5.1._\",\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"lib/openzeppelin-contracts-upgradeable/lib/openzeppelin-contracts/contracts/utils/SlotDerivation.sol\":\"SlotDerivation\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts-upgradeable/lib/openzeppelin-contracts/contracts/\",\":erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts-upgradeable/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts-upgradeable/lib/openzeppelin-contracts/\",\":openzeppelin-foundry-upgrades/=lib/openzeppelin-foundry-upgrades/src/\"]},\"sources\":{\"lib/openzeppelin-contracts-upgradeable/lib/openzeppelin-contracts/contracts/utils/SlotDerivation.sol\":{\"keccak256\":\"0x67672e4ca1dafdcc661d4eba8475cfac631fa0933309258e3af7644b92e1fb26\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://30192451f05ea5ddb0c18bd0f9003f098505836ba19c08a9c365adf829454da2\",\"dweb:/ipfs/QmfCuZSCTyCdFoSKn7MSaN6hZksnQn9ZhrZDAdRTCbwGu2\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.28+commit.7893614a"},"language":"Solidity","output":{"abi":[],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts-upgradeable/lib/openzeppelin-contracts/contracts/","erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts-upgradeable/lib/halmos-cheatcodes/src/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts-upgradeable/lib/openzeppelin-contracts/","openzeppelin-foundry-upgrades/=lib/openzeppelin-foundry-upgrades/src/"],"optimizer":{"enabled":false,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"lib/openzeppelin-contracts-upgradeable/lib/openzeppelin-contracts/contracts/utils/SlotDerivation.sol":"SlotDerivation"},"evmVersion":"cancun","libraries":{}},"sources":{"lib/openzeppelin-contracts-upgradeable/lib/openzeppelin-contracts/contracts/utils/SlotDerivation.sol":{"keccak256":"0x67672e4ca1dafdcc661d4eba8475cfac631fa0933309258e3af7644b92e1fb26","urls":["bzz-raw://30192451f05ea5ddb0c18bd0f9003f098505836ba19c08a9c365adf829454da2","dweb:/ipfs/QmfCuZSCTyCdFoSKn7MSaN6hZksnQn9ZhrZDAdRTCbwGu2"],"license":"MIT"}},"version":1},"storageLayout":{"storage":[],"types":{}},"ast":{"absolutePath":"lib/openzeppelin-contracts-upgradeable/lib/openzeppelin-contracts/contracts/utils/SlotDerivation.sol","id":39918,"exportedSymbols":{"SlotDerivation":[39917]},"nodeType":"SourceUnit","src":"199:5124:38","nodes":[{"id":39789,"nodeType":"PragmaDirective","src":"199:24:38","nodes":[],"literals":["solidity","^","0.8",".20"]},{"id":39917,"nodeType":"ContractDefinition","src":"1599:3723:38","nodes":[{"id":39800,"nodeType":"FunctionDefinition","src":"1707:277:38","nodes":[],"body":{"id":39799,"nodeType":"Block","src":"1790:194:38","nodes":[],"statements":[{"AST":{"nativeSrc":"1825:153:38","nodeType":"YulBlock","src":"1825:153:38","statements":[{"expression":{"arguments":[{"kind":"number","nativeSrc":"1846:4:38","nodeType":"YulLiteral","src":"1846:4:38","type":"","value":"0x00"},{"arguments":[{"arguments":[{"arguments":[{"name":"namespace","nativeSrc":"1870:9:38","nodeType":"YulIdentifier","src":"1870:9:38"},{"kind":"number","nativeSrc":"1881:4:38","nodeType":"YulLiteral","src":"1881:4:38","type":"","value":"0x20"}],"functionName":{"name":"add","nativeSrc":"1866:3:38","nodeType":"YulIdentifier","src":"1866:3:38"},"nativeSrc":"1866:20:38","nodeType":"YulFunctionCall","src":"1866:20:38"},{"arguments":[{"name":"namespace","nativeSrc":"1894:9:38","nodeType":"YulIdentifier","src":"1894:9:38"}],"functionName":{"name":"mload","nativeSrc":"1888:5:38","nodeType":"YulIdentifier","src":"1888:5:38"},"nativeSrc":"1888:16:38","nodeType":"YulFunctionCall","src":"1888:16:38"}],"functionName":{"name":"keccak256","nativeSrc":"1856:9:38","nodeType":"YulIdentifier","src":"1856:9:38"},"nativeSrc":"1856:49:38","nodeType":"YulFunctionCall","src":"1856:49:38"},{"kind":"number","nativeSrc":"1907:1:38","nodeType":"YulLiteral","src":"1907:1:38","type":"","value":"1"}],"functionName":{"name":"sub","nativeSrc":"1852:3:38","nodeType":"YulIdentifier","src":"1852:3:38"},"nativeSrc":"1852:57:38","nodeType":"YulFunctionCall","src":"1852:57:38"}],"functionName":{"name":"mstore","nativeSrc":"1839:6:38","nodeType":"YulIdentifier","src":"1839:6:38"},"nativeSrc":"1839:71:38","nodeType":"YulFunctionCall","src":"1839:71:38"},"nativeSrc":"1839:71:38","nodeType":"YulExpressionStatement","src":"1839:71:38"},{"nativeSrc":"1923:45:38","nodeType":"YulAssignment","src":"1923:45:38","value":{"arguments":[{"arguments":[{"kind":"number","nativeSrc":"1945:4:38","nodeType":"YulLiteral","src":"1945:4:38","type":"","value":"0x00"},{"kind":"number","nativeSrc":"1951:4:38","nodeType":"YulLiteral","src":"1951:4:38","type":"","value":"0x20"}],"functionName":{"name":"keccak256","nativeSrc":"1935:9:38","nodeType":"YulIdentifier","src":"1935:9:38"},"nativeSrc":"1935:21:38","nodeType":"YulFunctionCall","src":"1935:21:38"},{"arguments":[{"kind":"number","nativeSrc":"1962:4:38","nodeType":"YulLiteral","src":"1962:4:38","type":"","value":"0xff"}],"functionName":{"name":"not","nativeSrc":"1958:3:38","nodeType":"YulIdentifier","src":"1958:3:38"},"nativeSrc":"1958:9:38","nodeType":"YulFunctionCall","src":"1958:9:38"}],"functionName":{"name":"and","nativeSrc":"1931:3:38","nodeType":"YulIdentifier","src":"1931:3:38"},"nativeSrc":"1931:37:38","nodeType":"YulFunctionCall","src":"1931:37:38"},"variableNames":[{"name":"slot","nativeSrc":"1923:4:38","nodeType":"YulIdentifier","src":"1923:4:38"}]}]},"evmVersion":"cancun","externalReferences":[{"declaration":39793,"isOffset":false,"isSlot":false,"src":"1870:9:38","valueSize":1},{"declaration":39793,"isOffset":false,"isSlot":false,"src":"1894:9:38","valueSize":1},{"declaration":39796,"isOffset":false,"isSlot":false,"src":"1923:4:38","valueSize":1}],"flags":["memory-safe"],"id":39798,"nodeType":"InlineAssembly","src":"1800:178:38"}]},"documentation":{"id":39791,"nodeType":"StructuredDocumentation","src":"1628:74:38","text":" @dev Derive an ERC-7201 slot from a string (namespace)."},"implemented":true,"kind":"function","modifiers":[],"name":"erc7201Slot","nameLocation":"1716:11:38","parameters":{"id":39794,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39793,"mutability":"mutable","name":"namespace","nameLocation":"1742:9:38","nodeType":"VariableDeclaration","scope":39800,"src":"1728:23:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":39792,"name":"string","nodeType":"ElementaryTypeName","src":"1728:6:38","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"1727:25:38"},"returnParameters":{"id":39797,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39796,"mutability":"mutable","name":"slot","nameLocation":"1784:4:38","nodeType":"VariableDeclaration","scope":39800,"src":"1776:12:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":39795,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1776:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"1775:14:38"},"scope":39917,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":39822,"nodeType":"FunctionDefinition","src":"2094:168:38","nodes":[],"body":{"id":39821,"nodeType":"Block","src":"2176:86:38","nodes":[],"statements":[{"id":39820,"nodeType":"UncheckedBlock","src":"2186:70:38","statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":39817,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":39814,"name":"slot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39803,"src":"2233:4:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":39813,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2225:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":39812,"name":"uint256","nodeType":"ElementaryTypeName","src":"2225:7:38","typeDescriptions":{}}},"id":39815,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2225:13:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":39816,"name":"pos","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39805,"src":"2241:3:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2225:19:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":39811,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2217:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":39810,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2217:7:38","typeDescriptions":{}}},"id":39818,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2217:28:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"functionReturnParameters":39809,"id":39819,"nodeType":"Return","src":"2210:35:38"}]}]},"documentation":{"id":39801,"nodeType":"StructuredDocumentation","src":"1990:99:38","text":" @dev Add an offset to a slot to get the n-th element of a structure or an array."},"implemented":true,"kind":"function","modifiers":[],"name":"offset","nameLocation":"2103:6:38","parameters":{"id":39806,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39803,"mutability":"mutable","name":"slot","nameLocation":"2118:4:38","nodeType":"VariableDeclaration","scope":39822,"src":"2110:12:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":39802,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2110:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":39805,"mutability":"mutable","name":"pos","nameLocation":"2132:3:38","nodeType":"VariableDeclaration","scope":39822,"src":"2124:11:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":39804,"name":"uint256","nodeType":"ElementaryTypeName","src":"2124:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2109:27:38"},"returnParameters":{"id":39809,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39808,"mutability":"mutable","name":"result","nameLocation":"2168:6:38","nodeType":"VariableDeclaration","scope":39822,"src":"2160:14:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":39807,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2160:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"2159:16:38"},"scope":39917,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":39832,"nodeType":"FunctionDefinition","src":"2391:201:38","nodes":[],"body":{"id":39831,"nodeType":"Block","src":"2465:127:38","nodes":[],"statements":[{"AST":{"nativeSrc":"2500:86:38","nodeType":"YulBlock","src":"2500:86:38","statements":[{"expression":{"arguments":[{"kind":"number","nativeSrc":"2521:4:38","nodeType":"YulLiteral","src":"2521:4:38","type":"","value":"0x00"},{"name":"slot","nativeSrc":"2527:4:38","nodeType":"YulIdentifier","src":"2527:4:38"}],"functionName":{"name":"mstore","nativeSrc":"2514:6:38","nodeType":"YulIdentifier","src":"2514:6:38"},"nativeSrc":"2514:18:38","nodeType":"YulFunctionCall","src":"2514:18:38"},"nativeSrc":"2514:18:38","nodeType":"YulExpressionStatement","src":"2514:18:38"},{"nativeSrc":"2545:31:38","nodeType":"YulAssignment","src":"2545:31:38","value":{"arguments":[{"kind":"number","nativeSrc":"2565:4:38","nodeType":"YulLiteral","src":"2565:4:38","type":"","value":"0x00"},{"kind":"number","nativeSrc":"2571:4:38","nodeType":"YulLiteral","src":"2571:4:38","type":"","value":"0x20"}],"functionName":{"name":"keccak256","nativeSrc":"2555:9:38","nodeType":"YulIdentifier","src":"2555:9:38"},"nativeSrc":"2555:21:38","nodeType":"YulFunctionCall","src":"2555:21:38"},"variableNames":[{"name":"result","nativeSrc":"2545:6:38","nodeType":"YulIdentifier","src":"2545:6:38"}]}]},"evmVersion":"cancun","externalReferences":[{"declaration":39828,"isOffset":false,"isSlot":false,"src":"2545:6:38","valueSize":1},{"declaration":39825,"isOffset":false,"isSlot":false,"src":"2527:4:38","valueSize":1}],"flags":["memory-safe"],"id":39830,"nodeType":"InlineAssembly","src":"2475:111:38"}]},"documentation":{"id":39823,"nodeType":"StructuredDocumentation","src":"2268:118:38","text":" @dev Derive the location of the first element in an array from the slot where the length is stored."},"implemented":true,"kind":"function","modifiers":[],"name":"deriveArray","nameLocation":"2400:11:38","parameters":{"id":39826,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39825,"mutability":"mutable","name":"slot","nameLocation":"2420:4:38","nodeType":"VariableDeclaration","scope":39832,"src":"2412:12:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":39824,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2412:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"2411:14:38"},"returnParameters":{"id":39829,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39828,"mutability":"mutable","name":"result","nameLocation":"2457:6:38","nodeType":"VariableDeclaration","scope":39832,"src":"2449:14:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":39827,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2449:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"2448:16:38"},"scope":39917,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":39844,"nodeType":"FunctionDefinition","src":"2681:268:38","nodes":[],"body":{"id":39843,"nodeType":"Block","src":"2770:179:38","nodes":[],"statements":[{"AST":{"nativeSrc":"2805:138:38","nodeType":"YulBlock","src":"2805:138:38","statements":[{"expression":{"arguments":[{"kind":"number","nativeSrc":"2826:4:38","nodeType":"YulLiteral","src":"2826:4:38","type":"","value":"0x00"},{"arguments":[{"name":"key","nativeSrc":"2836:3:38","nodeType":"YulIdentifier","src":"2836:3:38"},{"arguments":[{"kind":"number","nativeSrc":"2845:2:38","nodeType":"YulLiteral","src":"2845:2:38","type":"","value":"96"},{"arguments":[{"kind":"number","nativeSrc":"2853:1:38","nodeType":"YulLiteral","src":"2853:1:38","type":"","value":"0"}],"functionName":{"name":"not","nativeSrc":"2849:3:38","nodeType":"YulIdentifier","src":"2849:3:38"},"nativeSrc":"2849:6:38","nodeType":"YulFunctionCall","src":"2849:6:38"}],"functionName":{"name":"shr","nativeSrc":"2841:3:38","nodeType":"YulIdentifier","src":"2841:3:38"},"nativeSrc":"2841:15:38","nodeType":"YulFunctionCall","src":"2841:15:38"}],"functionName":{"name":"and","nativeSrc":"2832:3:38","nodeType":"YulIdentifier","src":"2832:3:38"},"nativeSrc":"2832:25:38","nodeType":"YulFunctionCall","src":"2832:25:38"}],"functionName":{"name":"mstore","nativeSrc":"2819:6:38","nodeType":"YulIdentifier","src":"2819:6:38"},"nativeSrc":"2819:39:38","nodeType":"YulFunctionCall","src":"2819:39:38"},"nativeSrc":"2819:39:38","nodeType":"YulExpressionStatement","src":"2819:39:38"},{"expression":{"arguments":[{"kind":"number","nativeSrc":"2878:4:38","nodeType":"YulLiteral","src":"2878:4:38","type":"","value":"0x20"},{"name":"slot","nativeSrc":"2884:4:38","nodeType":"YulIdentifier","src":"2884:4:38"}],"functionName":{"name":"mstore","nativeSrc":"2871:6:38","nodeType":"YulIdentifier","src":"2871:6:38"},"nativeSrc":"2871:18:38","nodeType":"YulFunctionCall","src":"2871:18:38"},"nativeSrc":"2871:18:38","nodeType":"YulExpressionStatement","src":"2871:18:38"},{"nativeSrc":"2902:31:38","nodeType":"YulAssignment","src":"2902:31:38","value":{"arguments":[{"kind":"number","nativeSrc":"2922:4:38","nodeType":"YulLiteral","src":"2922:4:38","type":"","value":"0x00"},{"kind":"number","nativeSrc":"2928:4:38","nodeType":"YulLiteral","src":"2928:4:38","type":"","value":"0x40"}],"functionName":{"name":"keccak256","nativeSrc":"2912:9:38","nodeType":"YulIdentifier","src":"2912:9:38"},"nativeSrc":"2912:21:38","nodeType":"YulFunctionCall","src":"2912:21:38"},"variableNames":[{"name":"result","nativeSrc":"2902:6:38","nodeType":"YulIdentifier","src":"2902:6:38"}]}]},"evmVersion":"cancun","externalReferences":[{"declaration":39837,"isOffset":false,"isSlot":false,"src":"2836:3:38","valueSize":1},{"declaration":39840,"isOffset":false,"isSlot":false,"src":"2902:6:38","valueSize":1},{"declaration":39835,"isOffset":false,"isSlot":false,"src":"2884:4:38","valueSize":1}],"flags":["memory-safe"],"id":39842,"nodeType":"InlineAssembly","src":"2780:163:38"}]},"documentation":{"id":39833,"nodeType":"StructuredDocumentation","src":"2598:78:38","text":" @dev Derive the location of a mapping element from the key."},"implemented":true,"kind":"function","modifiers":[],"name":"deriveMapping","nameLocation":"2690:13:38","parameters":{"id":39838,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39835,"mutability":"mutable","name":"slot","nameLocation":"2712:4:38","nodeType":"VariableDeclaration","scope":39844,"src":"2704:12:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":39834,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2704:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":39837,"mutability":"mutable","name":"key","nameLocation":"2726:3:38","nodeType":"VariableDeclaration","scope":39844,"src":"2718:11:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39836,"name":"address","nodeType":"ElementaryTypeName","src":"2718:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2703:27:38"},"returnParameters":{"id":39841,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39840,"mutability":"mutable","name":"result","nameLocation":"2762:6:38","nodeType":"VariableDeclaration","scope":39844,"src":"2754:14:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":39839,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2754:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"2753:16:38"},"scope":39917,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":39856,"nodeType":"FunctionDefinition","src":"3038:259:38","nodes":[],"body":{"id":39855,"nodeType":"Block","src":"3124:173:38","nodes":[],"statements":[{"AST":{"nativeSrc":"3159:132:38","nodeType":"YulBlock","src":"3159:132:38","statements":[{"expression":{"arguments":[{"kind":"number","nativeSrc":"3180:4:38","nodeType":"YulLiteral","src":"3180:4:38","type":"","value":"0x00"},{"arguments":[{"arguments":[{"name":"key","nativeSrc":"3200:3:38","nodeType":"YulIdentifier","src":"3200:3:38"}],"functionName":{"name":"iszero","nativeSrc":"3193:6:38","nodeType":"YulIdentifier","src":"3193:6:38"},"nativeSrc":"3193:11:38","nodeType":"YulFunctionCall","src":"3193:11:38"}],"functionName":{"name":"iszero","nativeSrc":"3186:6:38","nodeType":"YulIdentifier","src":"3186:6:38"},"nativeSrc":"3186:19:38","nodeType":"YulFunctionCall","src":"3186:19:38"}],"functionName":{"name":"mstore","nativeSrc":"3173:6:38","nodeType":"YulIdentifier","src":"3173:6:38"},"nativeSrc":"3173:33:38","nodeType":"YulFunctionCall","src":"3173:33:38"},"nativeSrc":"3173:33:38","nodeType":"YulExpressionStatement","src":"3173:33:38"},{"expression":{"arguments":[{"kind":"number","nativeSrc":"3226:4:38","nodeType":"YulLiteral","src":"3226:4:38","type":"","value":"0x20"},{"name":"slot","nativeSrc":"3232:4:38","nodeType":"YulIdentifier","src":"3232:4:38"}],"functionName":{"name":"mstore","nativeSrc":"3219:6:38","nodeType":"YulIdentifier","src":"3219:6:38"},"nativeSrc":"3219:18:38","nodeType":"YulFunctionCall","src":"3219:18:38"},"nativeSrc":"3219:18:38","nodeType":"YulExpressionStatement","src":"3219:18:38"},{"nativeSrc":"3250:31:38","nodeType":"YulAssignment","src":"3250:31:38","value":{"arguments":[{"kind":"number","nativeSrc":"3270:4:38","nodeType":"YulLiteral","src":"3270:4:38","type":"","value":"0x00"},{"kind":"number","nativeSrc":"3276:4:38","nodeType":"YulLiteral","src":"3276:4:38","type":"","value":"0x40"}],"functionName":{"name":"keccak256","nativeSrc":"3260:9:38","nodeType":"YulIdentifier","src":"3260:9:38"},"nativeSrc":"3260:21:38","nodeType":"YulFunctionCall","src":"3260:21:38"},"variableNames":[{"name":"result","nativeSrc":"3250:6:38","nodeType":"YulIdentifier","src":"3250:6:38"}]}]},"evmVersion":"cancun","externalReferences":[{"declaration":39849,"isOffset":false,"isSlot":false,"src":"3200:3:38","valueSize":1},{"declaration":39852,"isOffset":false,"isSlot":false,"src":"3250:6:38","valueSize":1},{"declaration":39847,"isOffset":false,"isSlot":false,"src":"3232:4:38","valueSize":1}],"flags":["memory-safe"],"id":39854,"nodeType":"InlineAssembly","src":"3134:157:38"}]},"documentation":{"id":39845,"nodeType":"StructuredDocumentation","src":"2955:78:38","text":" @dev Derive the location of a mapping element from the key."},"implemented":true,"kind":"function","modifiers":[],"name":"deriveMapping","nameLocation":"3047:13:38","parameters":{"id":39850,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39847,"mutability":"mutable","name":"slot","nameLocation":"3069:4:38","nodeType":"VariableDeclaration","scope":39856,"src":"3061:12:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":39846,"name":"bytes32","nodeType":"ElementaryTypeName","src":"3061:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":39849,"mutability":"mutable","name":"key","nameLocation":"3080:3:38","nodeType":"VariableDeclaration","scope":39856,"src":"3075:8:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":39848,"name":"bool","nodeType":"ElementaryTypeName","src":"3075:4:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"3060:24:38"},"returnParameters":{"id":39853,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39852,"mutability":"mutable","name":"result","nameLocation":"3116:6:38","nodeType":"VariableDeclaration","scope":39856,"src":"3108:14:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":39851,"name":"bytes32","nodeType":"ElementaryTypeName","src":"3108:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"3107:16:38"},"scope":39917,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":39868,"nodeType":"FunctionDefinition","src":"3386:246:38","nodes":[],"body":{"id":39867,"nodeType":"Block","src":"3475:157:38","nodes":[],"statements":[{"AST":{"nativeSrc":"3510:116:38","nodeType":"YulBlock","src":"3510:116:38","statements":[{"expression":{"arguments":[{"kind":"number","nativeSrc":"3531:4:38","nodeType":"YulLiteral","src":"3531:4:38","type":"","value":"0x00"},{"name":"key","nativeSrc":"3537:3:38","nodeType":"YulIdentifier","src":"3537:3:38"}],"functionName":{"name":"mstore","nativeSrc":"3524:6:38","nodeType":"YulIdentifier","src":"3524:6:38"},"nativeSrc":"3524:17:38","nodeType":"YulFunctionCall","src":"3524:17:38"},"nativeSrc":"3524:17:38","nodeType":"YulExpressionStatement","src":"3524:17:38"},{"expression":{"arguments":[{"kind":"number","nativeSrc":"3561:4:38","nodeType":"YulLiteral","src":"3561:4:38","type":"","value":"0x20"},{"name":"slot","nativeSrc":"3567:4:38","nodeType":"YulIdentifier","src":"3567:4:38"}],"functionName":{"name":"mstore","nativeSrc":"3554:6:38","nodeType":"YulIdentifier","src":"3554:6:38"},"nativeSrc":"3554:18:38","nodeType":"YulFunctionCall","src":"3554:18:38"},"nativeSrc":"3554:18:38","nodeType":"YulExpressionStatement","src":"3554:18:38"},{"nativeSrc":"3585:31:38","nodeType":"YulAssignment","src":"3585:31:38","value":{"arguments":[{"kind":"number","nativeSrc":"3605:4:38","nodeType":"YulLiteral","src":"3605:4:38","type":"","value":"0x00"},{"kind":"number","nativeSrc":"3611:4:38","nodeType":"YulLiteral","src":"3611:4:38","type":"","value":"0x40"}],"functionName":{"name":"keccak256","nativeSrc":"3595:9:38","nodeType":"YulIdentifier","src":"3595:9:38"},"nativeSrc":"3595:21:38","nodeType":"YulFunctionCall","src":"3595:21:38"},"variableNames":[{"name":"result","nativeSrc":"3585:6:38","nodeType":"YulIdentifier","src":"3585:6:38"}]}]},"evmVersion":"cancun","externalReferences":[{"declaration":39861,"isOffset":false,"isSlot":false,"src":"3537:3:38","valueSize":1},{"declaration":39864,"isOffset":false,"isSlot":false,"src":"3585:6:38","valueSize":1},{"declaration":39859,"isOffset":false,"isSlot":false,"src":"3567:4:38","valueSize":1}],"flags":["memory-safe"],"id":39866,"nodeType":"InlineAssembly","src":"3485:141:38"}]},"documentation":{"id":39857,"nodeType":"StructuredDocumentation","src":"3303:78:38","text":" @dev Derive the location of a mapping element from the key."},"implemented":true,"kind":"function","modifiers":[],"name":"deriveMapping","nameLocation":"3395:13:38","parameters":{"id":39862,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39859,"mutability":"mutable","name":"slot","nameLocation":"3417:4:38","nodeType":"VariableDeclaration","scope":39868,"src":"3409:12:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":39858,"name":"bytes32","nodeType":"ElementaryTypeName","src":"3409:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":39861,"mutability":"mutable","name":"key","nameLocation":"3431:3:38","nodeType":"VariableDeclaration","scope":39868,"src":"3423:11:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":39860,"name":"bytes32","nodeType":"ElementaryTypeName","src":"3423:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"3408:27:38"},"returnParameters":{"id":39865,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39864,"mutability":"mutable","name":"result","nameLocation":"3467:6:38","nodeType":"VariableDeclaration","scope":39868,"src":"3459:14:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":39863,"name":"bytes32","nodeType":"ElementaryTypeName","src":"3459:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"3458:16:38"},"scope":39917,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":39880,"nodeType":"FunctionDefinition","src":"3721:246:38","nodes":[],"body":{"id":39879,"nodeType":"Block","src":"3810:157:38","nodes":[],"statements":[{"AST":{"nativeSrc":"3845:116:38","nodeType":"YulBlock","src":"3845:116:38","statements":[{"expression":{"arguments":[{"kind":"number","nativeSrc":"3866:4:38","nodeType":"YulLiteral","src":"3866:4:38","type":"","value":"0x00"},{"name":"key","nativeSrc":"3872:3:38","nodeType":"YulIdentifier","src":"3872:3:38"}],"functionName":{"name":"mstore","nativeSrc":"3859:6:38","nodeType":"YulIdentifier","src":"3859:6:38"},"nativeSrc":"3859:17:38","nodeType":"YulFunctionCall","src":"3859:17:38"},"nativeSrc":"3859:17:38","nodeType":"YulExpressionStatement","src":"3859:17:38"},{"expression":{"arguments":[{"kind":"number","nativeSrc":"3896:4:38","nodeType":"YulLiteral","src":"3896:4:38","type":"","value":"0x20"},{"name":"slot","nativeSrc":"3902:4:38","nodeType":"YulIdentifier","src":"3902:4:38"}],"functionName":{"name":"mstore","nativeSrc":"3889:6:38","nodeType":"YulIdentifier","src":"3889:6:38"},"nativeSrc":"3889:18:38","nodeType":"YulFunctionCall","src":"3889:18:38"},"nativeSrc":"3889:18:38","nodeType":"YulExpressionStatement","src":"3889:18:38"},{"nativeSrc":"3920:31:38","nodeType":"YulAssignment","src":"3920:31:38","value":{"arguments":[{"kind":"number","nativeSrc":"3940:4:38","nodeType":"YulLiteral","src":"3940:4:38","type":"","value":"0x00"},{"kind":"number","nativeSrc":"3946:4:38","nodeType":"YulLiteral","src":"3946:4:38","type":"","value":"0x40"}],"functionName":{"name":"keccak256","nativeSrc":"3930:9:38","nodeType":"YulIdentifier","src":"3930:9:38"},"nativeSrc":"3930:21:38","nodeType":"YulFunctionCall","src":"3930:21:38"},"variableNames":[{"name":"result","nativeSrc":"3920:6:38","nodeType":"YulIdentifier","src":"3920:6:38"}]}]},"evmVersion":"cancun","externalReferences":[{"declaration":39873,"isOffset":false,"isSlot":false,"src":"3872:3:38","valueSize":1},{"declaration":39876,"isOffset":false,"isSlot":false,"src":"3920:6:38","valueSize":1},{"declaration":39871,"isOffset":false,"isSlot":false,"src":"3902:4:38","valueSize":1}],"flags":["memory-safe"],"id":39878,"nodeType":"InlineAssembly","src":"3820:141:38"}]},"documentation":{"id":39869,"nodeType":"StructuredDocumentation","src":"3638:78:38","text":" @dev Derive the location of a mapping element from the key."},"implemented":true,"kind":"function","modifiers":[],"name":"deriveMapping","nameLocation":"3730:13:38","parameters":{"id":39874,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39871,"mutability":"mutable","name":"slot","nameLocation":"3752:4:38","nodeType":"VariableDeclaration","scope":39880,"src":"3744:12:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":39870,"name":"bytes32","nodeType":"ElementaryTypeName","src":"3744:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":39873,"mutability":"mutable","name":"key","nameLocation":"3766:3:38","nodeType":"VariableDeclaration","scope":39880,"src":"3758:11:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":39872,"name":"uint256","nodeType":"ElementaryTypeName","src":"3758:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3743:27:38"},"returnParameters":{"id":39877,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39876,"mutability":"mutable","name":"result","nameLocation":"3802:6:38","nodeType":"VariableDeclaration","scope":39880,"src":"3794:14:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":39875,"name":"bytes32","nodeType":"ElementaryTypeName","src":"3794:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"3793:16:38"},"scope":39917,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":39892,"nodeType":"FunctionDefinition","src":"4056:245:38","nodes":[],"body":{"id":39891,"nodeType":"Block","src":"4144:157:38","nodes":[],"statements":[{"AST":{"nativeSrc":"4179:116:38","nodeType":"YulBlock","src":"4179:116:38","statements":[{"expression":{"arguments":[{"kind":"number","nativeSrc":"4200:4:38","nodeType":"YulLiteral","src":"4200:4:38","type":"","value":"0x00"},{"name":"key","nativeSrc":"4206:3:38","nodeType":"YulIdentifier","src":"4206:3:38"}],"functionName":{"name":"mstore","nativeSrc":"4193:6:38","nodeType":"YulIdentifier","src":"4193:6:38"},"nativeSrc":"4193:17:38","nodeType":"YulFunctionCall","src":"4193:17:38"},"nativeSrc":"4193:17:38","nodeType":"YulExpressionStatement","src":"4193:17:38"},{"expression":{"arguments":[{"kind":"number","nativeSrc":"4230:4:38","nodeType":"YulLiteral","src":"4230:4:38","type":"","value":"0x20"},{"name":"slot","nativeSrc":"4236:4:38","nodeType":"YulIdentifier","src":"4236:4:38"}],"functionName":{"name":"mstore","nativeSrc":"4223:6:38","nodeType":"YulIdentifier","src":"4223:6:38"},"nativeSrc":"4223:18:38","nodeType":"YulFunctionCall","src":"4223:18:38"},"nativeSrc":"4223:18:38","nodeType":"YulExpressionStatement","src":"4223:18:38"},{"nativeSrc":"4254:31:38","nodeType":"YulAssignment","src":"4254:31:38","value":{"arguments":[{"kind":"number","nativeSrc":"4274:4:38","nodeType":"YulLiteral","src":"4274:4:38","type":"","value":"0x00"},{"kind":"number","nativeSrc":"4280:4:38","nodeType":"YulLiteral","src":"4280:4:38","type":"","value":"0x40"}],"functionName":{"name":"keccak256","nativeSrc":"4264:9:38","nodeType":"YulIdentifier","src":"4264:9:38"},"nativeSrc":"4264:21:38","nodeType":"YulFunctionCall","src":"4264:21:38"},"variableNames":[{"name":"result","nativeSrc":"4254:6:38","nodeType":"YulIdentifier","src":"4254:6:38"}]}]},"evmVersion":"cancun","externalReferences":[{"declaration":39885,"isOffset":false,"isSlot":false,"src":"4206:3:38","valueSize":1},{"declaration":39888,"isOffset":false,"isSlot":false,"src":"4254:6:38","valueSize":1},{"declaration":39883,"isOffset":false,"isSlot":false,"src":"4236:4:38","valueSize":1}],"flags":["memory-safe"],"id":39890,"nodeType":"InlineAssembly","src":"4154:141:38"}]},"documentation":{"id":39881,"nodeType":"StructuredDocumentation","src":"3973:78:38","text":" @dev Derive the location of a mapping element from the key."},"implemented":true,"kind":"function","modifiers":[],"name":"deriveMapping","nameLocation":"4065:13:38","parameters":{"id":39886,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39883,"mutability":"mutable","name":"slot","nameLocation":"4087:4:38","nodeType":"VariableDeclaration","scope":39892,"src":"4079:12:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":39882,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4079:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":39885,"mutability":"mutable","name":"key","nameLocation":"4100:3:38","nodeType":"VariableDeclaration","scope":39892,"src":"4093:10:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":39884,"name":"int256","nodeType":"ElementaryTypeName","src":"4093:6:38","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"4078:26:38"},"returnParameters":{"id":39889,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39888,"mutability":"mutable","name":"result","nameLocation":"4136:6:38","nodeType":"VariableDeclaration","scope":39892,"src":"4128:14:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":39887,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4128:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"4127:16:38"},"scope":39917,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":39904,"nodeType":"FunctionDefinition","src":"4390:421:38","nodes":[],"body":{"id":39903,"nodeType":"Block","src":"4485:326:38","nodes":[],"statements":[{"AST":{"nativeSrc":"4520:285:38","nodeType":"YulBlock","src":"4520:285:38","statements":[{"nativeSrc":"4534:24:38","nodeType":"YulVariableDeclaration","src":"4534:24:38","value":{"arguments":[{"name":"key","nativeSrc":"4554:3:38","nodeType":"YulIdentifier","src":"4554:3:38"}],"functionName":{"name":"mload","nativeSrc":"4548:5:38","nodeType":"YulIdentifier","src":"4548:5:38"},"nativeSrc":"4548:10:38","nodeType":"YulFunctionCall","src":"4548:10:38"},"variables":[{"name":"length","nativeSrc":"4538:6:38","nodeType":"YulTypedName","src":"4538:6:38","type":""}]},{"nativeSrc":"4571:27:38","nodeType":"YulVariableDeclaration","src":"4571:27:38","value":{"arguments":[{"name":"key","nativeSrc":"4588:3:38","nodeType":"YulIdentifier","src":"4588:3:38"},{"kind":"number","nativeSrc":"4593:4:38","nodeType":"YulLiteral","src":"4593:4:38","type":"","value":"0x20"}],"functionName":{"name":"add","nativeSrc":"4584:3:38","nodeType":"YulIdentifier","src":"4584:3:38"},"nativeSrc":"4584:14:38","nodeType":"YulFunctionCall","src":"4584:14:38"},"variables":[{"name":"begin","nativeSrc":"4575:5:38","nodeType":"YulTypedName","src":"4575:5:38","type":""}]},{"nativeSrc":"4611:29:38","nodeType":"YulVariableDeclaration","src":"4611:29:38","value":{"arguments":[{"name":"begin","nativeSrc":"4626:5:38","nodeType":"YulIdentifier","src":"4626:5:38"},{"name":"length","nativeSrc":"4633:6:38","nodeType":"YulIdentifier","src":"4633:6:38"}],"functionName":{"name":"add","nativeSrc":"4622:3:38","nodeType":"YulIdentifier","src":"4622:3:38"},"nativeSrc":"4622:18:38","nodeType":"YulFunctionCall","src":"4622:18:38"},"variables":[{"name":"end","nativeSrc":"4615:3:38","nodeType":"YulTypedName","src":"4615:3:38","type":""}]},{"nativeSrc":"4653:23:38","nodeType":"YulVariableDeclaration","src":"4653:23:38","value":{"arguments":[{"name":"end","nativeSrc":"4672:3:38","nodeType":"YulIdentifier","src":"4672:3:38"}],"functionName":{"name":"mload","nativeSrc":"4666:5:38","nodeType":"YulIdentifier","src":"4666:5:38"},"nativeSrc":"4666:10:38","nodeType":"YulFunctionCall","src":"4666:10:38"},"variables":[{"name":"cache","nativeSrc":"4657:5:38","nodeType":"YulTypedName","src":"4657:5:38","type":""}]},{"expression":{"arguments":[{"name":"end","nativeSrc":"4696:3:38","nodeType":"YulIdentifier","src":"4696:3:38"},{"name":"slot","nativeSrc":"4701:4:38","nodeType":"YulIdentifier","src":"4701:4:38"}],"functionName":{"name":"mstore","nativeSrc":"4689:6:38","nodeType":"YulIdentifier","src":"4689:6:38"},"nativeSrc":"4689:17:38","nodeType":"YulFunctionCall","src":"4689:17:38"},"nativeSrc":"4689:17:38","nodeType":"YulExpressionStatement","src":"4689:17:38"},{"nativeSrc":"4719:45:38","nodeType":"YulAssignment","src":"4719:45:38","value":{"arguments":[{"name":"begin","nativeSrc":"4739:5:38","nodeType":"YulIdentifier","src":"4739:5:38"},{"arguments":[{"name":"length","nativeSrc":"4750:6:38","nodeType":"YulIdentifier","src":"4750:6:38"},{"kind":"number","nativeSrc":"4758:4:38","nodeType":"YulLiteral","src":"4758:4:38","type":"","value":"0x20"}],"functionName":{"name":"add","nativeSrc":"4746:3:38","nodeType":"YulIdentifier","src":"4746:3:38"},"nativeSrc":"4746:17:38","nodeType":"YulFunctionCall","src":"4746:17:38"}],"functionName":{"name":"keccak256","nativeSrc":"4729:9:38","nodeType":"YulIdentifier","src":"4729:9:38"},"nativeSrc":"4729:35:38","nodeType":"YulFunctionCall","src":"4729:35:38"},"variableNames":[{"name":"result","nativeSrc":"4719:6:38","nodeType":"YulIdentifier","src":"4719:6:38"}]},{"expression":{"arguments":[{"name":"end","nativeSrc":"4784:3:38","nodeType":"YulIdentifier","src":"4784:3:38"},{"name":"cache","nativeSrc":"4789:5:38","nodeType":"YulIdentifier","src":"4789:5:38"}],"functionName":{"name":"mstore","nativeSrc":"4777:6:38","nodeType":"YulIdentifier","src":"4777:6:38"},"nativeSrc":"4777:18:38","nodeType":"YulFunctionCall","src":"4777:18:38"},"nativeSrc":"4777:18:38","nodeType":"YulExpressionStatement","src":"4777:18:38"}]},"evmVersion":"cancun","externalReferences":[{"declaration":39897,"isOffset":false,"isSlot":false,"src":"4554:3:38","valueSize":1},{"declaration":39897,"isOffset":false,"isSlot":false,"src":"4588:3:38","valueSize":1},{"declaration":39900,"isOffset":false,"isSlot":false,"src":"4719:6:38","valueSize":1},{"declaration":39895,"isOffset":false,"isSlot":false,"src":"4701:4:38","valueSize":1}],"flags":["memory-safe"],"id":39902,"nodeType":"InlineAssembly","src":"4495:310:38"}]},"documentation":{"id":39893,"nodeType":"StructuredDocumentation","src":"4307:78:38","text":" @dev Derive the location of a mapping element from the key."},"implemented":true,"kind":"function","modifiers":[],"name":"deriveMapping","nameLocation":"4399:13:38","parameters":{"id":39898,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39895,"mutability":"mutable","name":"slot","nameLocation":"4421:4:38","nodeType":"VariableDeclaration","scope":39904,"src":"4413:12:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":39894,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4413:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":39897,"mutability":"mutable","name":"key","nameLocation":"4441:3:38","nodeType":"VariableDeclaration","scope":39904,"src":"4427:17:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":39896,"name":"string","nodeType":"ElementaryTypeName","src":"4427:6:38","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"4412:33:38"},"returnParameters":{"id":39901,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39900,"mutability":"mutable","name":"result","nameLocation":"4477:6:38","nodeType":"VariableDeclaration","scope":39904,"src":"4469:14:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":39899,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4469:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"4468:16:38"},"scope":39917,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":39916,"nodeType":"FunctionDefinition","src":"4900:420:38","nodes":[],"body":{"id":39915,"nodeType":"Block","src":"4994:326:38","nodes":[],"statements":[{"AST":{"nativeSrc":"5029:285:38","nodeType":"YulBlock","src":"5029:285:38","statements":[{"nativeSrc":"5043:24:38","nodeType":"YulVariableDeclaration","src":"5043:24:38","value":{"arguments":[{"name":"key","nativeSrc":"5063:3:38","nodeType":"YulIdentifier","src":"5063:3:38"}],"functionName":{"name":"mload","nativeSrc":"5057:5:38","nodeType":"YulIdentifier","src":"5057:5:38"},"nativeSrc":"5057:10:38","nodeType":"YulFunctionCall","src":"5057:10:38"},"variables":[{"name":"length","nativeSrc":"5047:6:38","nodeType":"YulTypedName","src":"5047:6:38","type":""}]},{"nativeSrc":"5080:27:38","nodeType":"YulVariableDeclaration","src":"5080:27:38","value":{"arguments":[{"name":"key","nativeSrc":"5097:3:38","nodeType":"YulIdentifier","src":"5097:3:38"},{"kind":"number","nativeSrc":"5102:4:38","nodeType":"YulLiteral","src":"5102:4:38","type":"","value":"0x20"}],"functionName":{"name":"add","nativeSrc":"5093:3:38","nodeType":"YulIdentifier","src":"5093:3:38"},"nativeSrc":"5093:14:38","nodeType":"YulFunctionCall","src":"5093:14:38"},"variables":[{"name":"begin","nativeSrc":"5084:5:38","nodeType":"YulTypedName","src":"5084:5:38","type":""}]},{"nativeSrc":"5120:29:38","nodeType":"YulVariableDeclaration","src":"5120:29:38","value":{"arguments":[{"name":"begin","nativeSrc":"5135:5:38","nodeType":"YulIdentifier","src":"5135:5:38"},{"name":"length","nativeSrc":"5142:6:38","nodeType":"YulIdentifier","src":"5142:6:38"}],"functionName":{"name":"add","nativeSrc":"5131:3:38","nodeType":"YulIdentifier","src":"5131:3:38"},"nativeSrc":"5131:18:38","nodeType":"YulFunctionCall","src":"5131:18:38"},"variables":[{"name":"end","nativeSrc":"5124:3:38","nodeType":"YulTypedName","src":"5124:3:38","type":""}]},{"nativeSrc":"5162:23:38","nodeType":"YulVariableDeclaration","src":"5162:23:38","value":{"arguments":[{"name":"end","nativeSrc":"5181:3:38","nodeType":"YulIdentifier","src":"5181:3:38"}],"functionName":{"name":"mload","nativeSrc":"5175:5:38","nodeType":"YulIdentifier","src":"5175:5:38"},"nativeSrc":"5175:10:38","nodeType":"YulFunctionCall","src":"5175:10:38"},"variables":[{"name":"cache","nativeSrc":"5166:5:38","nodeType":"YulTypedName","src":"5166:5:38","type":""}]},{"expression":{"arguments":[{"name":"end","nativeSrc":"5205:3:38","nodeType":"YulIdentifier","src":"5205:3:38"},{"name":"slot","nativeSrc":"5210:4:38","nodeType":"YulIdentifier","src":"5210:4:38"}],"functionName":{"name":"mstore","nativeSrc":"5198:6:38","nodeType":"YulIdentifier","src":"5198:6:38"},"nativeSrc":"5198:17:38","nodeType":"YulFunctionCall","src":"5198:17:38"},"nativeSrc":"5198:17:38","nodeType":"YulExpressionStatement","src":"5198:17:38"},{"nativeSrc":"5228:45:38","nodeType":"YulAssignment","src":"5228:45:38","value":{"arguments":[{"name":"begin","nativeSrc":"5248:5:38","nodeType":"YulIdentifier","src":"5248:5:38"},{"arguments":[{"name":"length","nativeSrc":"5259:6:38","nodeType":"YulIdentifier","src":"5259:6:38"},{"kind":"number","nativeSrc":"5267:4:38","nodeType":"YulLiteral","src":"5267:4:38","type":"","value":"0x20"}],"functionName":{"name":"add","nativeSrc":"5255:3:38","nodeType":"YulIdentifier","src":"5255:3:38"},"nativeSrc":"5255:17:38","nodeType":"YulFunctionCall","src":"5255:17:38"}],"functionName":{"name":"keccak256","nativeSrc":"5238:9:38","nodeType":"YulIdentifier","src":"5238:9:38"},"nativeSrc":"5238:35:38","nodeType":"YulFunctionCall","src":"5238:35:38"},"variableNames":[{"name":"result","nativeSrc":"5228:6:38","nodeType":"YulIdentifier","src":"5228:6:38"}]},{"expression":{"arguments":[{"name":"end","nativeSrc":"5293:3:38","nodeType":"YulIdentifier","src":"5293:3:38"},{"name":"cache","nativeSrc":"5298:5:38","nodeType":"YulIdentifier","src":"5298:5:38"}],"functionName":{"name":"mstore","nativeSrc":"5286:6:38","nodeType":"YulIdentifier","src":"5286:6:38"},"nativeSrc":"5286:18:38","nodeType":"YulFunctionCall","src":"5286:18:38"},"nativeSrc":"5286:18:38","nodeType":"YulExpressionStatement","src":"5286:18:38"}]},"evmVersion":"cancun","externalReferences":[{"declaration":39909,"isOffset":false,"isSlot":false,"src":"5063:3:38","valueSize":1},{"declaration":39909,"isOffset":false,"isSlot":false,"src":"5097:3:38","valueSize":1},{"declaration":39912,"isOffset":false,"isSlot":false,"src":"5228:6:38","valueSize":1},{"declaration":39907,"isOffset":false,"isSlot":false,"src":"5210:4:38","valueSize":1}],"flags":["memory-safe"],"id":39914,"nodeType":"InlineAssembly","src":"5004:310:38"}]},"documentation":{"id":39905,"nodeType":"StructuredDocumentation","src":"4817:78:38","text":" @dev Derive the location of a mapping element from the key."},"implemented":true,"kind":"function","modifiers":[],"name":"deriveMapping","nameLocation":"4909:13:38","parameters":{"id":39910,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39907,"mutability":"mutable","name":"slot","nameLocation":"4931:4:38","nodeType":"VariableDeclaration","scope":39916,"src":"4923:12:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":39906,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4923:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":39909,"mutability":"mutable","name":"key","nameLocation":"4950:3:38","nodeType":"VariableDeclaration","scope":39916,"src":"4937:16:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":39908,"name":"bytes","nodeType":"ElementaryTypeName","src":"4937:5:38","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"4922:32:38"},"returnParameters":{"id":39913,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39912,"mutability":"mutable","name":"result","nameLocation":"4986:6:38","nodeType":"VariableDeclaration","scope":39916,"src":"4978:14:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":39911,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4978:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"4977:16:38"},"scope":39917,"stateMutability":"pure","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"SlotDerivation","contractDependencies":[],"contractKind":"library","documentation":{"id":39790,"nodeType":"StructuredDocumentation","src":"225:1373:38","text":" @dev Library for computing storage (and transient storage) locations from namespaces and deriving slots\n corresponding to standard patterns. The derivation method for array and mapping matches the storage layout used by\n the solidity language / compiler.\n See https://docs.soliditylang.org/en/v0.8.20/internals/layout_in_storage.html#mappings-and-dynamic-arrays[Solidity docs for mappings and dynamic arrays.].\n Example usage:\n ```solidity\n contract Example {\n     // Add the library methods\n     using StorageSlot for bytes32;\n     using SlotDerivation for bytes32;\n     // Declare a namespace\n     string private constant _NAMESPACE = \"<namespace>\"; // eg. OpenZeppelin.Slot\n     function setValueInNamespace(uint256 key, address newValue) internal {\n         _NAMESPACE.erc7201Slot().deriveMapping(key).getAddressSlot().value = newValue;\n     }\n     function getValueInNamespace(uint256 key) internal view returns (address) {\n         return _NAMESPACE.erc7201Slot().deriveMapping(key).getAddressSlot().value;\n     }\n }\n ```\n TIP: Consider using this library along with {StorageSlot}.\n NOTE: This library provides a way to manipulate storage locations in a non-standard way. Tooling for checking\n upgrade safety will ignore the slots accessed through this library.\n _Available since v5.1._"},"fullyImplemented":true,"linearizedBaseContracts":[39917],"name":"SlotDerivation","nameLocation":"1607:14:38","scope":39918,"usedErrors":[],"usedEvents":[]}],"license":"MIT"},"id":38}